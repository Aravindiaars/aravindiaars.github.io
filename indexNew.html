<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Copy Image to Clipboard</title>
</head>
<body>
  <img id="image" src="https://via.placeholder.com/150" alt="Placeholder Image">
  <button id="copy-button">Copy Image to Clipboard</button>

  <script>
    const copyImageToClipboard = async () => {
      if (!navigator.clipboard) {
        // Clipboard API not supported
        return;
      }

      try {
        const type = 'image/png';
        const blob = await fetch(document.getElementById('image').src).then(response => response.blob());
        const clipboardItem = new ClipboardItem({ [type]: blob });

        // Check if the browser is a mobile browser (you can customize this check if necessary)
        const isMobileBrowser = /Mobi|Android/i.test(navigator.userAgent);

        if (!isMobileBrowser || document.hasFocus()) {
          // Call navigator.clipboard.write() only if the document is focused or if it's not a mobile browser
          await navigator.clipboard.write([clipboardItem]);
          console.log('Image copied to clipboard');
        } else {
          // Show a message to the user informing them that the clipboard operation requires document focus
          console.warn('Clipboard operation requires document focus');
        }
      } catch (error) {
        console.error('Failed to copy image to clipboard: ', error);
      }
    };

    document.getElementById('copy-button').addEventListener('click', copyImageToClipboard);
  </script>
</body>
</html>
